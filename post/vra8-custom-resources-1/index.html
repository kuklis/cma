
<!DOCTYPE html>
<html lang="en" data-figures="" class="page">
  <head>
<title>Aria Automation Custom Resource Types - The Easy Way | CMA</title>
<meta charset="utf-8">
<meta name="generator" content="Hugo 0.81.0" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TW72DHK7SC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-TW72DHK7SC');
</script>
  
<meta property="og:locale" content="en" />

<meta property="og:type" content="article">
<meta name="description" content="How to define custom resource types in vRA8 easily">
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@kuklis_k">
<meta name="twitter:title" content="Aria Automation Custom Resource Types - The Easy Way" />
<meta property="og:url" content="https://kuklis.github.io/cma/post/vra8-custom-resources-1/" />
<meta property="og:title" content="Aria Automation Custom Resource Types - The Easy Way" />
<meta property="og:description" content="How to define custom resource types in vRA8 easily" />
<meta property="og:image" content="https://kuklis.github.io/cma/images/easy.png" />
<link rel="apple-touch-icon" sizes="180x180" href='https://kuklis.github.io/cma/icons/apple-touch-icon.png'>
<link rel="icon" type="image/png" sizes="32x32" href='https://kuklis.github.io/cma/icons/favicon-32x32.png'>
<link rel="manifest" href='https://kuklis.github.io/cma/icons/site.webmanifest'>
<link rel="mask-icon" href='https://kuklis.github.io/cma/safari-pinned-tab.svg' color="#002538">
<meta name="msapplication-TileColor" content="#002538">
<meta name="theme-color" content="#002538">

<link rel="canonical" href="https://kuklis.github.io/cma/post/vra8-custom-resources-1/">

    

    
    
    <link rel="preload" href="https://kuklis.github.io/cma/css/styles.782bf96a82b3cc5b3cee4c47a42cc81321f16960a6d41fab3277c4abe047bc7ae044ea1bb7ae4d237c12baa0143e02f95969e5e8b6e68d9dcfd14158cfa244ac.css" integrity = "sha512-eCv5aoKzzFs87kxHpCzIEyHxaWCm1B&#43;rMnfEq&#43;BHvHrgROobt65NI3wSuqAUPgL5WWnl6LbmjZ3P0UFYz6JErA==" as="style" crossorigin="anonymous">
    <link rel="preload" href="https://kuklis.github.io/cma/js/bundle.min.a6ea2fbec2fc7f5120cfe00b7aa62ddf71b53cd34bead611b8b05b1288a4d42ac0c36886f45e7e38579dd115c11ac6ba2c2793847ddcd9323202009ad731070a.js" as="script" integrity=
    "sha512-puovvsL8f1Egz&#43;ALeqYt33G1PNNL6tYRuLBbEoik1CrAw2iG9F5&#43;OFed0RXBGsa6LCeThH3c2TIyAgCa1zEHCg==" crossorigin="anonymous">

    
    <link rel="stylesheet" type="text/css" href="https://kuklis.github.io/cma/css/styles.782bf96a82b3cc5b3cee4c47a42cc81321f16960a6d41fab3277c4abe047bc7ae044ea1bb7ae4d237c12baa0143e02f95969e5e8b6e68d9dcfd14158cfa244ac.css" integrity="sha512-eCv5aoKzzFs87kxHpCzIEyHxaWCm1B&#43;rMnfEq&#43;BHvHrgROobt65NI3wSuqAUPgL5WWnl6LbmjZ3P0UFYz6JErA==" crossorigin="anonymous">
    
  </head>
  
  
    
  
  <body data-code="50" data-lines="false" id="documentTop">

<header class="nav_header" >
  <nav class="nav"><a href='https://kuklis.github.io/cma/' class="nav_brand nav_item" title="CMA">
  <img src="https://kuklis.github.io/cma/logos/cma.png" class="logo" alt="CMA">
  <div class="nav_close">
    <div><svg class="icon">
  <use xlink:href="#open-menu"></use>
</svg><svg class="icon">
  <use xlink:href="#closeme"></use>
</svg></div>
  </div>
</a>
    <div class='nav_body nav_body_left'>
      
      
      
        

  <div class="nav_parent">
    <a href="https://kuklis.github.io/cma/" class="nav_item" title="Home">Home </a>
  </div>
      
<div class='follow'>
  <a href="https://github.com/kuklis">
    <svg class="icon">
  <use xlink:href="#github"></use>
</svg>
  </a>
  <a href="https://twitter.com/kuklis_k">
    <svg class="icon">
  <use xlink:href="#twitter"></use>
</svg>
  </a>
  <a href="https://www.linkedin.com/in/kuklisk">
    <svg class="icon">
  <use xlink:href="#linkedin"></use>
</svg>
  </a>
    
  <a href="https://kuklis.github.io/cma/index.xml">
    <svg class="icon">
  <use xlink:href="#rss"></use>
</svg>
  </a>
<div class="color_mode">
  <input type="checkbox" class="color_choice" id="mode">
</div>

</div>

    </div>
  </nav>
</header>

    <main>
  
<div class="grid-inverse wrap content">
  <article class="post_content">
    <h1 class="post_title">Aria Automation Custom Resource Types - The Easy Way</h1><div class="post_meta">
  
    <svg class="icon">
  <use xlink:href="#calendar"></use>
</svg>
    <span class="post_date">
      Feb 5, 2023</span>
      <a href='https://kuklis.github.io/cma/tags/vra8' title="vRA8" class="post_tag button button_translucent">vRA8
      </a>
      <a href='https://kuklis.github.io/cma/tags/vro' title="vRO" class="post_tag button button_translucent">vRO
      </a>
</div>

    
  <div class="post_share">
    Share on:
    <a href="https://twitter.com/intent/tweet?text=Aria%20Automation%20Custom%20Resource%20Types%20-%20The%20Easy%20Way&url=https%3a%2f%2fkuklis.github.io%2fcma%2fpost%2fvra8-custom-resources-1%2f&tw_p=tweetbutton" class="twitter" title="Share on Twitter" target="_blank" rel="nofollow">
      <svg class="icon">
  <use xlink:href="#twitter"></use>
</svg>
    </a>
    <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fkuklis.github.io%2fcma%2fpost%2fvra8-custom-resources-1%2f&t=Aria%20Automation%20Custom%20Resource%20Types%20-%20The%20Easy%20Way" class="facebook" title="Share on Facebook" target="_blank" rel="nofollow">
      <svg class="icon">
  <use xlink:href="#facebook"></use>
</svg>
    </a>
    <a href="#linkedinshare" id = "linkedinshare" class="linkedin" title="Share on LinkedIn" rel="nofollow">
      <svg class="icon">
  <use xlink:href="#linkedin"></use>
</svg>
    </a>
    <a href="https://kuklis.github.io/cma/post/vra8-custom-resources-1/" title="Copy Link" class="link link_yank">
      <svg class="icon">
  <use xlink:href="#copy"></use>
</svg>
    </a>
  </div>

    
    <p>How to define custom resource types in vRA8 easily</p>
<div class="toc">
    <H3>Table of Contents</H3>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#aria-automation-custom-resources">Aria Automation Custom Resources</a></li>
    <li><a href="#defining-a-new-type---the-usual-approach">Defining a new type - the usual approach</a></li>
    <li><a href="#defining-a-new-type---a-simplified-approach">Defining a new type - a simplified approach</a></li>
    <li><a href="#the-demo-type-myobject">The demo type: myObject</a></li>
    <li><a href="#find-by-id-workflow">Find By Id workflow</a></li>
    <li><a href="#binding-workflows">Binding workflow(s)</a></li>
    <li><a href="#crud-workflows">CRUD workflows</a></li>
    <li><a href="#cloud-assembly-custom-resource">Cloud Assembly Custom Resource</a></li>
    <li><a href="#refresh-custom-resource-data">Refresh custom resource data</a></li>
    <li><a href="#to-be-continued">To be continued</a></li>
  </ul>
</nav>
  </div>
<h2 id="introduction">Introduction</h2>
<p>Creating <em>Custom Resources</em> based on Orchestrator Dynamic Types can be confusing for the first time. In this post I present a sample type to demonstrate a minimal functional implementation, that you can adapt to your usecase.</p>
<h2 id="aria-automation-custom-resources">Aria Automation Custom Resources</h2>
<p>In order to create our own representation of objects, vRA allows us to define Custom Resource Types. We can either use ABX actions or vRO to implement the CRUD operations. If we choose vRO, we can either reuse existing types (that are availabe in the Inventory), or define our own by using the Dynamic Types plugin.</p>
<p>This plugin has been part of Orchestrator for a long time, but it's documentation is very short. One can find couple of excellent blog posts on its usage. I found <a href="https://blogs.vmware.com/management/2022/02/cr-vro-aws-eks.html">Martin Petkov's post</a> excellent: not only he implements a real world complex usecase (EKS) in detail, but also explains some of the confusing details of Dynamic Types plugin.</p>
<h2 id="defining-a-new-type---the-usual-approach">Defining a new type - the usual approach</h2>
<p>To follow most of the guides available we start with defining a Namespace (by running Library / Dynamic Types / Configuration / Define Namespace) and generating stub workflows (by running by running Library / Dynamic Types / Configuration / Define Type). We'll get the following workflows (for namespace myNS and type name myType1):</p>
<ul>
<li>Find All myNS-myType1</li>
<li>Find myNS-myType1 By Id</li>
<li>Find Relation myNS-myType1</li>
<li>Has myNS-myType1 Children In Relation</li>
</ul>
<p>We can create further types that behave like folders, subfolders or leaf nodes. By defining relations between them, we can build up a nice hierarchical, browsable object tree in vRO inventory:</p>
<p><img src="/cma/img/vra8-custom-resources-1/inventory.png" alt=""><br></p>
<h2 id="defining-a-new-type---a-simplified-approach">Defining a new type - a simplified approach</h2>
<p>To implement Aria Automation <em>Custom Resource Type</em> we do not have to create these folder(s) and relations. Let's see when are these workflows run and which one(s) can we omit writing.</p>
<table>
<thead>
<tr>
<th>WF</th>
<th>Trigger</th>
</tr>
</thead>
<tbody>
<tr>
<td>Find All myNS-myType1</td>
<td>This one is run in vRO if the input type is DynamicTypes:myNS.myType1 to seach and find objects based on input.<br>Also, when we run Server.findAllForType(&quot;DynamicTypes:myNS.myType1&quot;, query) to search for our objects, <em>Find All</em> is being called.<br>We can safely skip implementing this.</td>
</tr>
<tr>
<td>Find myNS-myType1 By Id</td>
<td>We need this to create custom resource objects.</td>
</tr>
<tr>
<td>Find Relation myNS-myType1</td>
<td>Used for vRO inventory hierarchy, not needed.</td>
</tr>
<tr>
<td>Has myNS-myType1 Children In Relation</td>
<td>Used for vRO inventory hierarchy, not needed.</td>
</tr>
</tbody>
</table>
<p>So, in order to make our custom resource working, we only have to write the <em>Find By Id</em> workflow. By this we can save a lot of time and development effort (but we lose the ability to browse our objects in vRO inventory).</p>
<h2 id="the-demo-type-myobject">The demo type: myObject</h2>
<p>With dynamic type objects (vRO) / custom resources (vRA) we represent exernal objects in Aria inventories. These resource instances cache the information of the &quot;real&quot; objects they represent.</p>
<p>For demonstration purposes we'll use database table records as objects to be represented by a dynamic type. It is easy to implement and test. For real world scenarios custom resources can model loadbalancer virtualhosts, virtual desktops, backup policies etc. Anything we want to manage and display. It is important to keep in mind that dynamic type objects are only mirroring information of external entitites (we do not need to store them in a database). In our demo case, these external objects are the database records.</p>
<p>The database table has the following shema:</p>
<ul>
<li>id (nvarchar (50))</li>
<li>name (nvarchar (50))</li>
<li>weight (int)</li>
</ul>
<p><img src="/cma/img/vra8-custom-resources-1/table.png" alt=""><br></p>
<p>Let's define a simple dynamic type called <tt>myObject</tt> with the following attributes:</p>
<ul>
<li>id (mandatory)</li>
<li>name (mandatory)</li>
<li>lastrefreshed (custom attribute, timestamp)</li>
<li>weight (custom attribute, number)</li>
</ul>
<p><tt>DefineType myObject</tt> workflow:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="ln">1</span><span class="nx">DynamicTypesManager</span><span class="p">.</span><span class="nx">defineNamespace</span><span class="p">(</span><span class="s2">&#34;myNS&#34;</span><span class="p">);</span>
<span class="ln">2</span><span class="nx">DynamicTypesManager</span><span class="p">.</span><span class="nx">defineType</span><span class="p">(</span><span class="s2">&#34;myNS&#34;</span><span class="p">,</span> <span class="s2">&#34;myObject&#34;</span><span class="p">,</span> <span class="s2">&#34;/Library/Dynamic Types/images/item-16x16.png&#34;</span><span class="p">,</span>
<span class="ln">3</span>    <span class="p">[</span><span class="s2">&#34;id&#34;</span><span class="p">,</span> <span class="s2">&#34;name&#34;</span><span class="p">,</span> <span class="s2">&#34;lastrefreshed&#34;</span><span class="p">,</span> <span class="s2">&#34;weight&#34;</span><span class="p">]);</span>
</code></pre></div><p>The new type appears in vRO inventory:<br>
<img src="/cma/img/vra8-custom-resources-1/myObject.png" alt=""><br></p>
<h2 id="find-by-id-workflow">Find By Id workflow</h2>
<p>In order to get our new type working, we need to implement <tt>Find myNS-myObject By Id</tt> workflow. In our demo scenario this is a very simple SQL query. Real world cases typically involve (possibly) several API calls or command invocations.</p>
<p>Workflow inputs are <tt>type</tt> and <tt>id</tt>, output is the myObject instance found. The database is stored in the workflow variable <tt>db</tt> in our case.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="ln"> 1</span><span class="nx">System</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;requested type: &#34;</span> <span class="o">+</span> <span class="nx">type</span><span class="p">);</span>
<span class="ln"> 2</span><span class="nx">System</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;requested id: &#34;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">);</span>
<span class="ln"> 3</span>
<span class="ln"> 4</span><span class="kd">var</span> <span class="nx">records</span> <span class="o">=</span> <span class="p">[];</span>
<span class="ln"> 5</span><span class="k">try</span> <span class="p">{</span>
<span class="ln"> 6</span>  <span class="nx">records</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">readCustomQuery</span><span class="p">(</span><span class="s2">&#34;SELECT * FROM myObjects WHERE id=&#39;&#34;</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s2">&#34;&#39;&#34;</span><span class="p">);</span>
<span class="ln"> 7</span><span class="p">}</span>
<span class="ln"> 8</span><span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
<span class="ln"> 9</span>    <span class="nx">System</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="ln">10</span><span class="p">}</span>
<span class="ln">11</span>
<span class="ln">12</span><span class="k">if</span> <span class="p">(</span><span class="mi">1</span> <span class="o">==</span> <span class="nx">records</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
<span class="ln">13</span>    <span class="kd">var</span> <span class="nx">record</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Properties</span><span class="p">();</span> <span class="c1">// convert ActiveRecord to HashMap
</span><span class="ln">14</span><span class="c1"></span>    <span class="k">for</span> <span class="nx">each</span><span class="p">(</span><span class="kd">var</span> <span class="nx">column</span> <span class="k">in</span> <span class="nx">records</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getFieldNames</span><span class="p">())</span> <span class="p">{</span> <span class="nx">record</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">column</span><span class="p">,</span> <span class="nx">records</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getProperty</span><span class="p">(</span><span class="nx">column</span><span class="p">));</span> <span class="p">}</span>
<span class="ln">15</span>
<span class="ln">16</span>    <span class="nx">myObject</span> <span class="o">=</span> <span class="nx">DynamicTypesManager</span><span class="p">.</span><span class="nx">makeObject</span><span class="p">(</span><span class="s2">&#34;myNS&#34;</span><span class="p">,</span> <span class="s2">&#34;myObject&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">record</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="ln">17</span>    <span class="nx">myObject</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s2">&#34;lastrefreshed&#34;</span><span class="p">,</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">());</span>
<span class="ln">18</span>    <span class="nx">myObject</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s2">&#34;weight&#34;</span><span class="p">,</span> <span class="nx">record</span><span class="p">.</span><span class="nx">weight</span><span class="p">);</span>
<span class="ln">19</span><span class="p">}</span>
<span class="ln">20</span><span class="k">else</span> <span class="p">{</span>
<span class="ln">21</span>    <span class="nx">System</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">&#34;Number of objects found with id &#39;&#34;</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s2">&#34;&#39;: &#34;</span> <span class="o">+</span> <span class="nx">records</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
<span class="ln">22</span>    <span class="nx">myObject</span> <span class="o">=</span> <span class="nx">DynamicTypesManager</span><span class="p">.</span><span class="nx">makeObject</span><span class="p">(</span><span class="s2">&#34;myNS&#34;</span><span class="p">,</span> <span class="s2">&#34;myObject&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="s2">&#34;MISSING&#34;</span><span class="p">);</span>
<span class="ln">23</span>    <span class="nx">myObject</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s2">&#34;lastrefreshed&#34;</span><span class="p">,</span> <span class="s2">&#34;&#34;</span><span class="p">);</span>
<span class="ln">24</span>    <span class="nx">myObject</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s2">&#34;weight&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="ln">25</span><span class="p">}</span>
<span class="ln">26</span>
<span class="ln">27</span><span class="nx">System</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;myObject:&#34;</span> <span class="o">+</span> <span class="nx">myObject</span><span class="p">.</span><span class="nx">toSource</span><span class="p">());</span>
</code></pre></div><p>We do an SQL SELECT by id, and set the properties of our dynamic type object based on the result. Best practice is to return a dummy object even if the query failed. This will come handy when we integrate our dynamic type as a custom resource in Cloud Assembly.</p>
<p><tt>DynamicTypesManager.makeObject()</tt> creates the in-memory object that represents the external entity (a DB record, here). We set the the <tt>lastrefreshed</tt> property to the current timestamp to mark the creation time of the dynamic object. This is not necessary but useful when checking objects in Service Broker.</p>
<h2 id="binding-workflows">Binding workflow(s)</h2>
<p>We need to bind the workflow(s) to the dynamic type. We implemented <em>Find by Id</em> only, so we bind only this workflow using its id (see Bind methods myObject workflow):</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="ln">1</span><span class="nx">DynamicTypesManager</span><span class="p">.</span><span class="nx">bindTypeFinderMethods</span><span class="p">(</span><span class="s2">&#34;myNS&#34;</span><span class="p">,</span> <span class="s2">&#34;myObject&#34;</span><span class="p">,</span> <span class="s2">&#34;c2b54c5e-e1c3-4cb8-8ec7-788dd7bd49c5&#34;</span><span class="p">);</span>
</code></pre></div><p>vRO inventory view:<br>
<img src="/cma/img/vra8-custom-resources-1/myObjectDetails.png" alt=""><br></p>
<h2 id="crud-workflows">CRUD workflows</h2>
<p>To make our dynamic type available in Aria Automation, we need to make the Create, Update and Destroy workflows.</p>
<p><tt>Create myObject</tt> workflow reads inputs <em>name</em> and <em>weight</em>, generate a unique ID and insert a new record into the database. We call the <tt>Find by Id</tt> workflow by <tt>DynamicTypesManager.getObject()</tt> to return the dynamic type object as an output.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="ln">1</span><span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">System</span><span class="p">.</span><span class="nx">nextUUID</span><span class="p">();</span>
<span class="ln">2</span>
<span class="ln">3</span><span class="nx">db</span><span class="p">.</span><span class="nx">executeCustomQuery</span><span class="p">(</span><span class="s2">&#34;INSERT INTO myObjects (id,name,weight) VALUES &#34;</span> <span class="o">+</span>
<span class="ln">4</span>    <span class="s2">&#34;(&#39;&#34;</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s2">&#34;&#39;,&#39;&#34;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">&#34;&#39;,&#34;</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">weight</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&#34;)&#34;</span><span class="p">);</span>
<span class="ln">5</span>
<span class="ln">6</span><span class="nx">myObject</span> <span class="o">=</span> <span class="nx">DynamicTypesManager</span><span class="p">.</span><span class="nx">getObject</span><span class="p">(</span><span class="s2">&#34;myNS&#34;</span><span class="p">,</span> <span class="s2">&#34;myObject&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="p">);</span> <span class="c1">// call Find by Id
</span><span class="ln">7</span><span class="c1"></span>
<span class="ln">8</span><span class="nx">System</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myObject</span><span class="p">.</span><span class="nx">toSource</span><span class="p">());</span>
</code></pre></div><p>The <tt>Update myObject</tt> workflow will not do anything besides logging the object. We create it for future uses as it cannot be added/changed after the Custom Resource Type defined.</p>
<p>The <tt>Destroy myObject</tt> workflow will remove the relevant database record and return success.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="ln">1</span><span class="nx">System</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Destroying: &#34;</span> <span class="o">+</span> <span class="nx">input</span><span class="p">.</span><span class="nx">toSource</span><span class="p">());</span>
<span class="ln">2</span><span class="nx">db</span><span class="p">.</span><span class="nx">executeCustomQuery</span><span class="p">(</span><span class="s2">&#34;DELETE FROM myObjects WHERE id=&#39;&#34;</span> <span class="o">+</span> <span class="nx">input</span><span class="p">.</span><span class="nx">id</span> <span class="o">+</span> <span class="s2">&#34;&#39;&#34;</span><span class="p">);</span>
<span class="ln">3</span><span class="nx">actionResult</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</code></pre></div><h2 id="cloud-assembly-custom-resource">Cloud Assembly Custom Resource</h2>
<p>In Cloud Assembly / Design / Custom Resources make a new type myObject:<br></p>
<p><img src="/cma/img/vra8-custom-resources-1/crt.png" alt=""><br></p>
<p>The Properties Schema is automatically created based on the Create workflow inputs and the dynamic type properties:</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="ln"> 1</span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">object</span><span class="w">
</span><span class="ln"> 2</span><span class="w"></span><span class="nt">properties</span><span class="p">:</span><span class="w">
</span><span class="ln"> 3</span><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w">
</span><span class="ln"> 4</span><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span><span class="ln"> 5</span><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">name</span><span class="w">
</span><span class="ln"> 6</span><span class="w">  </span><span class="nt">weight</span><span class="p">:</span><span class="w">
</span><span class="ln"> 7</span><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">number</span><span class="w">
</span><span class="ln"> 8</span><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">weight</span><span class="w">
</span><span class="ln"> 9</span><span class="w">  </span><span class="nt">myObject</span><span class="p">:</span><span class="w">
</span><span class="ln">10</span><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">object</span><span class="w">
</span><span class="ln">11</span><span class="w">    </span><span class="nt">properties</span><span class="p">:</span><span class="w">
</span><span class="ln">12</span><span class="w">      </span><span class="nt">id</span><span class="p">:</span><span class="w">
</span><span class="ln">13</span><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span><span class="ln">14</span><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">id</span><span class="w">
</span><span class="ln">15</span><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w">
</span><span class="ln">16</span><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span><span class="ln">17</span><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">name</span><span class="w">
</span><span class="ln">18</span><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w">
</span><span class="ln">19</span><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span><span class="ln">20</span><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">type</span><span class="w">
</span><span class="ln">21</span><span class="w">      </span><span class="nt">weight</span><span class="p">:</span><span class="w">
</span><span class="ln">22</span><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span><span class="ln">23</span><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">weight</span><span class="w">
</span><span class="ln">24</span><span class="w">      </span><span class="nt">namespace</span><span class="p">:</span><span class="w">
</span><span class="ln">25</span><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span><span class="ln">26</span><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">namespace</span><span class="w">
</span><span class="ln">27</span><span class="w">      </span><span class="nt">lastrefreshed</span><span class="p">:</span><span class="w">
</span><span class="ln">28</span><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span><span class="ln">29</span><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">lastrefreshed</span><span class="w">
</span><span class="ln">30</span><span class="w">    </span><span class="nt">computed</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="ln">31</span><span class="w"></span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span></code></pre></div><p>Create a cloud template with the new custom resource type:</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="ln"> 1</span><span class="nt">formatVersion</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="ln"> 2</span><span class="w"></span><span class="nt">inputs</span><span class="p">:</span><span class="w">
</span><span class="ln"> 3</span><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w">
</span><span class="ln"> 4</span><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span><span class="ln"> 5</span><span class="w">  </span><span class="nt">weight</span><span class="p">:</span><span class="w">
</span><span class="ln"> 6</span><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">integer</span><span class="w">
</span><span class="ln"> 7</span><span class="w"></span><span class="nt">resources</span><span class="p">:</span><span class="w">
</span><span class="ln"> 8</span><span class="w">  </span><span class="nt">myObject_1</span><span class="p">:</span><span class="w">
</span><span class="ln"> 9</span><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Custom.myObject</span><span class="w">
</span><span class="ln">10</span><span class="w">    </span><span class="nt">properties</span><span class="p">:</span><span class="w">
</span><span class="ln">11</span><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">${input.name}</span><span class="w">
</span><span class="ln">12</span><span class="w">      </span><span class="nt">weight</span><span class="p">:</span><span class="w"> </span><span class="l">${input.weight}</span><span class="w">
</span></code></pre></div><p>The resulting deployment:<br>
<img src="/cma/img/vra8-custom-resources-1/deployment.png" alt=""><br></p>
<p>And the new record:<br>
<img src="/cma/img/vra8-custom-resources-1/table2.png" alt=""><br></p>
<h2 id="refresh-custom-resource-data">Refresh custom resource data</h2>
<p>By default vRA runs <tt>Find by Id</tt> every 6 hours to refresh cached data:<br></p>
<p><img src="/cma/img/vra8-custom-resources-1/refresh.png" alt=""><br></p>
<p>To force refreshing data we can create a dummy day 2 action <em>Refresh</em>. This action does not have to do anything, we'll only log the inputs (Log myObject workflow):</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="ln">1</span><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="nx">System</span><span class="p">.</span><span class="nx">getContext</span><span class="p">().</span><span class="nx">getParameter</span><span class="p">(</span><span class="s2">&#34;__metadata_resourceProperties&#34;</span><span class="p">).</span><span class="nx">myObject</span><span class="p">;</span>
<span class="ln">2</span><span class="nx">System</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;myObject: &#34;</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">myObject</span><span class="p">));</span>
</code></pre></div><p>Add it as an additonal action to the custom resource:<br>
<img src="/cma/img/vra8-custom-resources-1/day2.png" alt=""><br></p>
<p>After using the day 2 action, we can see the lastrefreshed attribute is updated. We have updated the database manually, and weight property is reflecting the new value after re-reading the external object. Please note that the custom attribute defined by the input provided at creation time did not change.<br>
<img src="/cma/img/vra8-custom-resources-1/deployment2.png" alt=""><br></p>
<h2 id="to-be-continued">To be continued</h2>
<p>In the next part we'll examine how to change the dynamic type definition and the custom resource schema. You can find the sample workflows at GitHub: <a href="https://github.com/kuklis/vro8-packages">https://github.com/kuklis/vro8-packages</a></p><script src="https://utteranc.es/client.js"
  repo="kuklis/cma"
  issue-term="title"
  label="Comment"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>


  </article>
<aside class="sidebar">
  <section class="sidebar_inner">
    
      <h2>Krisztian Kuklis</h2>
      <div class="sidebar_description">
        IT Architect
      </div>
    <h2 class="mt-4">Recent Posts</h2>
    <ul class="flex-column">
      <li>
        <a href="https://kuklis.github.io/cma/post/vra8-tanzu-day2/" class="nav-link" title="Custom day 2 actions for Tanzu in Aria Automation">Custom day 2 actions for Tanzu in Aria Automation</a>
      </li>
      <li>
        <a href="https://kuklis.github.io/cma/post/vro8-polyglot-token/" class="nav-link" title="Getting token within vRO polyglot code">Getting token within vRO polyglot code</a>
      </li>
      <li>
        <a href="https://kuklis.github.io/cma/post/vro8-run-helm/" class="nav-link" title="Running Helm in vRO">Running Helm in vRO</a>
      </li>
      <li>
        <a href="https://kuklis.github.io/cma/post/vra8-custom-resources-2/" class="nav-link" title="Aria Automation Custom Resource Types - Schema update">Aria Automation Custom Resource Types - Schema update</a>
      </li>
      <li>
        <a href="https://kuklis.github.io/cma/post/vra8-scaleout-1/" class="nav-link" title="Aria Automation Deployment Scale Out">Aria Automation Deployment Scale Out</a>
      </li>
      <li>
        <a href="https://kuklis.github.io/cma/post/vro8-screen-real-estate/" class="nav-link" title="Aria Automation Orchestrator Tips: Maximize editor area">Aria Automation Orchestrator Tips: Maximize editor area</a>
      </li>
      <li>
        <a href="https://kuklis.github.io/cma/post/vro-javascript-goto/" class="nav-link" title="Aria Automation Orchestrator Tips: JavaScript GOTO">Aria Automation Orchestrator Tips: JavaScript GOTO</a>
      </li>
      <li>
        <a href="https://kuklis.github.io/cma/post/vro8-dump-workflow-logs/" class="nav-link" title="vRO8 Dump Workflow Logs">vRO8 Dump Workflow Logs</a>
      </li>
    </ul>
    <div>
      <h2 class="mt-4 taxonomy" id="categories-section">Categories</h2>
      <nav class="tags_nav">
        <a href='https://kuklis.github.io/cma/categories/gui/' class="post_tag button button_translucent" title="gui">
          GUI
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/categories/api/' class="post_tag button button_translucent" title="api">
          API
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/categories/custom-resources/' class="post_tag button button_translucent" title="custom-resources">
          CUSTOM-RESOURCES
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/categories/development/' class="post_tag button button_translucent" title="development">
          DEVELOPMENT
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/categories/public-cloud/' class="post_tag button button_translucent" title="public-cloud">
          PUBLIC-CLOUD
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/categories/tanzu/' class="post_tag button button_translucent" title="tanzu">
          TANZU
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/categories/xaas/' class="post_tag button button_translucent" title="xaas">
          XAAS
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/categories/storage/' class="post_tag button button_translucent" title="storage">
          STORAGE
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/categories/troubleshooting/' class="post_tag button button_translucent" title="troubleshooting">
          TROUBLESHOOTING
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/categories/vsphere/' class="post_tag button button_translucent" title="vsphere">
          VSPHERE
          <span class="button_tally">1</span>
        </a>
        
        
      </nav>
    </div>
    <div>
      <h2 class="mt-4 taxonomy" id="tags-section">Tags</h2>
      <nav class="tags_nav">
        <a href='https://kuklis.github.io/cma/tags/vro/' class="post_tag button button_translucent" title="vro">
          VRO
          <span class="button_tally">14</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/vra8/' class="post_tag button button_translucent" title="vra8">
          VRA8
          <span class="button_tally">13</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/azure/' class="post_tag button button_translucent" title="azure">
          AZURE
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/vra/' class="post_tag button button_translucent" title="vra">
          VRA
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/javascript/' class="post_tag button button_translucent" title="javascript">
          JAVASCRIPT
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/approvals/' class="post_tag button button_translucent" title="approvals">
          APPROVALS
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/index/' class="post_tag button button_translucent" title="index">
          INDEX
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/logging/' class="post_tag button button_translucent" title="logging">
          LOGGING
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/placement/' class="post_tag button button_translucent" title="placement">
          PLACEMENT
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/powershell/' class="post_tag button button_translucent" title="powershell">
          POWERSHELL
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/proxy/' class="post_tag button button_translucent" title="proxy">
          PROXY
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/scaleout/' class="post_tag button button_translucent" title="scaleout">
          SCALEOUT
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/servicenow/' class="post_tag button button_translucent" title="servicenow">
          SERVICENOW
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://kuklis.github.io/cma/tags/storage/' class="post_tag button button_translucent" title="storage">
          STORAGE
          <span class="button_tally">1</span>
        </a>
        
        
      </nav>
    </div>
  </section>
</aside>

  
</div>
    </main><svg width="0" height="0" class="hidden">
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter">
    <path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68 0 0 1-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043 0-1.924.366-2.643 1.078a3.56 3.56 0 0 0-1.076 2.605c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846 0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47 0 .929.273 1.705.82 2.388a3.623 3.623 0 0 0 2.115 1.291c-.312.08-.641.118-.979.118-.312 0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652 0 0 0 2.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422 0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139 0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77 0 0 0 1.172-4.892v-.468a7.788 7.788 0 0 0 1.84-1.921 8.142 8.142 0 0 1-2.11.593z"
      ></path>
  </symbol>
  <symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail">
    <path  d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar">
    <path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916 0 100v352c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V100c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028 0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028 0 20 8.972 20 20v48z"></path>
    <path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github">
    <path d="M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab">
    <path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6 0L12.3 74.8z" />
    <path d="M12.3 74.7L.5 111c-1 3.2 0 6.8 3 8.8l101.6 74-92.5-119z"/>
    <path d="M105 193.7l-38.6-119h-54l92.7 119z"/>
    <path d="M105 193.7l38.7-119H66.4l38.7 119z"/>
    <path d="M105 193.7l38.7-119H198l-93 119z"/>
    <path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/>
    <path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6 0L198 74.8z"/> 
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss">
    <circle cx="3.429" cy="20.571" r="3.429"></circle>
    <path d="M11.429 24h4.57C15.999 15.179 8.821 8.001 0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"></path>
    <path d="M24 24C24 10.766 13.234 0 0 0v4.571c10.714 0 19.43 8.714 19.43 19.429z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h362c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="arrow">
    <path d="M604.501 440.509L325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298 0 36.323s26.223 10.024 36.222 0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221 0 9.999-10.023 9.999-26.298 0-36.323z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly">
    <path d="M504.971 239.029L448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c19.851 0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002 0 0 0 400 320v108c0 19.851-16.149 36-36 36h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c46.318 0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568 0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255 0 24-10.745 24-24S205.255 0 192 0h-44c-46.318 0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568 0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255 0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851 0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002 0 0 0 112 192z"></path>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy">
    <path d="M23 2.75A2.75 2.75 0 0 0 20.25 0H8.75A2.75 2.75 0 0 0 6 2.75v13.5A2.75 2.75 0 0 0 8.75 19h11.5A2.75 2.75 0 0 0 23 16.25zM18.25 14.5h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5z"></path>
    <path d="M8.75 20.5a4.255 4.255 0 0 1-4.25-4.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752 0 0 0 1 5.25v16A2.752 2.752 0 0 0 3.75 24h12a2.752 2.752 0 0 0 2.75-2.75v-.75z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme">
    <path d="M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0 0 14.143 5.857 19.94 19.94 0 0 0 14.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu">
    <path d="M492 236H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954 0 96s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram">
    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id=youtube>
    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow">
    <path d="M21 27v-8h3v11H0V19h3v8h18z"></path><path d="M17.1.2L15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8l13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"></path>
  </symbol>
</svg>


<footer class="footer">
  <div class="footer_inner wrap pale">
    <img src='https://kuklis.github.io/cma/icons/apple-touch-icon.png' class="icon icon_2 transparent" alt="CMA">
    <p>Copyright&nbsp;<span class="year"></span>&nbsp;CMA. All Rights Reserved</p><a class="to_top" href="#documentTop">
  <svg class="icon">
  <use xlink:href="#arrow"></use>
</svg>
</a>

  </div>
</footer>

    <script type="text/javascript" src="https://kuklis.github.io/cma/js/bundle.min.a6ea2fbec2fc7f5120cfe00b7aa62ddf71b53cd34bead611b8b05b1288a4d42ac0c36886f45e7e38579dd115c11ac6ba2c2793847ddcd9323202009ad731070a.js" integrity="sha512-puovvsL8f1Egz&#43;ALeqYt33G1PNNL6tYRuLBbEoik1CrAw2iG9F5&#43;OFed0RXBGsa6LCeThH3c2TIyAgCa1zEHCg==" crossorigin="anonymous"></script>
    
  </body>
</html>
